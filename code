#!/usr/bin/env python3

"""
Simple AI Assistant (Single File)
Requires: pip install openai
Run with: python assistant.py
"""

from openai import OpenAI
import os

# Make sure your API key is set in the environment:
# export OPENAI_API_KEY="your_api_key"
client = OpenAI()

def main():
    print("\nü§ñ AI Assistant Ready!")
    print("Type 'exit' to quit.\n")

    # Start the conversation context
    conversation = [
        {"role": "system", "content": "You are a helpful AI assistant."}
    ]

    while True:
        try:
            user_input = input("You: ").strip()
        except (KeyboardInterrupt, EOFError):
            print("\nGoodbye!")
            break

        if user_input.lower() in ("exit", "quit"):
            print("Goodbye!")
            break

        # Add user message
        conversation.append({"role": "user", "content": user_input})

        # Send to OpenAI API
        try:
            response = client.chat.completions.create(
                model="gpt-4o-mini",  # Change to gpt-5.1 if you have access
                messages=conversation
            )
        except Exception as e:
            print("‚ö†Ô∏è API Error:", e)
            continue

        ai_message = response.choices[0].message["content"]
        print("Assistant:", ai_message)

        # Keep the AI's reply in context
        conversation.append({"role": "assistant", "content": ai_message})


if __name__ == "__main__":
    main()
